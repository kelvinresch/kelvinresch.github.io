<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Fast Robots Spring 2025 - Kelvin Resch</title>
        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="assets/robot.ico" />
        <!-- Bootstrap icons-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />
    </head>
    <body>
        <!-- Responsive navbar-->
        <nav class="navbar navbar-expand-lg navbar-dark bg-danger">
            <div class="container px-lg-5">
                <a class="navbar-brand" href="https://kelvinresch.github.io">Lab 1</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                        <li class="nav-item"><a class="nav-link active" aria-current="page" href="https://kelvinresch.github.io">Home</a></li>
                        <li class="nav-item"><a class="nav-link" href="https://www.linkedin.com/in/kelvin-resch">Contact</a></li>
                    </ul>
                </div>
            </div>
        </nav>
        <!-- Header-->
        <header class="py-5">
            <div class="container px-lg-5">
                <div class="p-4 p-lg-5 bg-light rounded-3 text-center">
                    <div class="m-4 m-lg-5">
                        <h1 class="display-5 fw-bold">Lab 1</h1>
                        <p class="fs-4">This first lab covers the basics of the Artemis Nano and Low Energy Bluetooth</p>
                    </div>
                </div>
            </div>
        </header>
        <!-- Page Content-->
        <section class="pt-4">
            <div class="container px-lg-5">
                <!-- Single Bootstrap Card -->
                <div class="card bg-light border-0">
                    <div class="card-body p-4 p-lg-5">
                        <!-- Card Content -->
                        <h1 class="card-title text-center mb-4">Lab 1A</h1>
                        <p class="card-text">
                            The purpose of this first week was to get familiar with the Artemis Nano microcontroller. We experimented with blinking, serial communication, printing, analog reading, and the onboard microphone.
                        </p>
                        <!-- Section 1: Blink-->
                        <h2 class="fs-4 fw-bold mt-4">Blink</h2>
                        <p class="card-text">
                            An LED is connected to GPIO pin 19 on the Artemis microcontroller. By pulling this pin high and low and sleeping in between, the pin will blink.
                        </p>
                        <!-- Embedded Video -->
                        <div class="ratio ratio-16x9 mb-4">
                            <iframe src="https://youtube.com/embed/PMNKNEziqdA" title="YouTube video" allowfullscreen></iframe>
                        </div>
                        <!-- Section 2: Serial communication and printing-->
                        <h2 class="fs-4 fw-bold mt-4">Serial communication and printing</h2>
                        <p class="card-text">
                            After sending code to the microcontroller, the PC can communicate with the microcontroller. We can make the microcontroller "echo" things written to the PC. We do this by programming the microcontroller to print any text it receives from the PC to the serial output. Then, this text can be read from the PC.
                        </p>
                        <!-- Embedded Video -->
                        <div class="ratio ratio-16x9 mb-4">
                            <iframe src="https://youtube.com/embed/ZGa1I_31-i4" title="YouTube video" allowfullscreen></iframe>
                        </div>
                        <!-- Section 3: Analog Read-->
                        <h2 class="fs-4 fw-bold mt-4">Analog Read</h2>
                        <p class="card-text">
                            In addition to digital IO, the microcontroller also has analog input channels. These analog input channels are connected to 14-bit ADCs. I think they realistically have around 8.5 bits of precision though. We read multiple analog input channels and printed them to the console. One of the channels measured die temperature, and you can see that when I hold the chip with my thumb, the temperature number increases and when I blow on the chip, the temperature decreases.
                        </p>
                        <!-- Embedded Video -->
                        <div class="ratio ratio-16x9 mb-4">
                            <iframe src="https://youtube.com/embed/k3QEA90rxQw" title="YouTube video" allowfullscreen></iframe>
                        </div>
                        <!-- Section 4: Microphone-->
                        <h2 class="fs-4 fw-bold mt-4">Microphone</h2>
                        <p class="card-text">
                            The Artemis also has a microphone on the PCB. We can take the time-series data from this microphone and then do a discrete fourier transform on it. We then take the largest amplitude from the frequency domain and print that frequency. If I whistle different tones, the microcontroller will print out a higher or lower number.
                        </p>
                        <!-- Embedded Video -->
                        <div class="ratio ratio-16x9 mb-4">
                            <iframe src="https://youtube.com/embed/JrX5kW6bG74" title="YouTube video" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Page Content-->
        <section class="pt-4">
            <div class="container px-lg-5">
                <!-- Single Bootstrap Card -->
                <div class="card bg-light border-0">
                    <div class="card-body p-4 p-lg-5">
                        <!-- Card Content -->
                        <h1 class="card-title text-center mb-4">Lab 1B</h1>
                        <p class="card-text">
                            This is the second part of Lab 1. Now that I've built familiarity with the Artemis microcontroller, I'm practicing building bluetooth systems on it. This section of Lab 1 will document my progress.
                        </p>
                        <!-- Section 1: ECHO -->
                        <h2 class="fs-4 fw-bold mt-4">ECHO</h2>
                        <p class="card-text">
                            Using robot_cmd.get_next_value(), I can retrieve the string sent from my pc to the Artemis over Bluetooth. I can then send the string back by storing the string in tx_estring_value and sending it over using writeValue(). To confirm that this worked, I also serial printed the text to the serial monitor in the Arduino IDE.
                        </p>
                        <!-- Embedded Image -->
                        <p class="card-text">
                            After importing ble, I can connected to the Artemis from my laptop.
                        </p>
                        <div class="text-center mb-4">
                            <img src="assets/Lab1/Task 1.1.png" alt="Echo Example Image" class="img-fluid rounded-3" style="max-width: 100%; height: auto;">
                        </div>
                        <!-- Embedded Image -->
                        <p class="card-text">
                            I can call the ECHO command, pass in text, and see it get sent back from the Artemis.
                        </p>
                        <div class="text-center mb-4">
                            <img src="assets/Lab1/Task 1.2.png" alt="Echo Example Image" class="img-fluid rounded-3" style="max-width: 100%; height: auto;">
                        </div>
                        <!-- Embedded Image -->
                        <p class="card-text">
                            The Arduino IDE serial monitor also confirms that the Artemis received the correct command.
                        </p>
                        <div class="text-center mb-4">
                            <img src="assets/Lab1/Task 1.3.png" alt="Echo Example Image" class="img-fluid rounded-3" style="max-width: 100%; height: auto;">
                        </div>
                        <!-- Section 2: Send Three Floats-->
                        <h2 class="fs-4 fw-bold mt-4">SEND THREE FLOATS</h2>
                        <p class="card-text">
                            robot_cmd.get_next_value() also works with float datatypes. The ble library uses the "|" character to parse the floats so that I can pass multiple values in one commanding message.
                        </p>
                        <!-- Embedded Image -->
                        <p class="card-text">
                            After sending the floats 1.0, 2.0, and 3.0, we should expect to see that they should up in the serial monitor on the Arduino IDE.
                        </p>
                        <div class="text-center mb-4">
                            <img src="assets/Lab1/Task 2.1.png" alt="Echo Example Image" class="img-fluid rounded-3" style="max-width: 100%; height: auto;">
                        </div>
                        <!-- Embedded Image -->
                        <p class="card-text">
                            Seeing these values show up in the serial monitor confirms that the code works.
                        </p>
                        <div class="text-center mb-4">
                            <img src="assets/Lab1/Task 2.2.png" alt="Echo Example Image" class="img-fluid rounded-3" style="max-width: 100%; height: auto;">
                        </div>
                        <!-- Section 3: GET_TIME_MILLIS -->
                        <h2 class="fs-4 fw-bold mt-4">GET_TIME_MILLIS</h2>
                        <p class="card-text">
                            Now that we've successfully sent around data generated by the PC, we can try sending data generated by the Artemis itself. 
                        </p>
                        <!-- Embedded Image -->
                        <p class="card-text">
                            Calling the command makes the Artemis send back the time since boot in milliseconds. According to the data, the Artemis had been on for a little under 5 minutes before this command was called.
                        </p>
                        <div class="text-center mb-4">
                            <img src="assets/Lab1/Task 3.1.png" alt="Echo Example Image" class="img-fluid rounded-3" style="max-width: 100%; height: auto;">
                        </div>
                        <!-- Section 4: Notification Handler -->
                        <h2 class="fs-4 fw-bold mt-4">Notification Handler</h2>
                        <p class="card-text">
                            A notification handler is an special method used to pass as an argument into the start_notify() method. start_notify() passes some bytearray into the notification handler whenever a specified characteristic in a service (specified by a UUID) is updated on the Artemis side. By sending time data with each payload, we can measure how fast we can send data between central device and peripheral.
                        </p>
                        <!-- Embedded Image -->
                        <p class="card-text">
                            Here is the code for the notification handler. I won't know if it works until I test it in the next section.
                        </p>
                        <div class="text-center mb-4">
                            <img src="assets/Lab1/Task 4.1.png" alt="Echo Example Image" class="img-fluid rounded-3" style="max-width: 100%; height: auto;">
                        </div>
                        <!-- Section 5: GET_TIME -->
                        <h2 class="fs-4 fw-bold mt-4">GET_TIME</h2>
                        <p class="card-text">
                            I wrote a command in the Artemis that will write a value to the tx_characteristic_string as fast as it can for 3000 milliseconds. Each time the notification handler detects that the Artemis' characteristic has updated, it will retrieve that value and get parsed by my notification handler. In my code, I'm sending the time in milliseconds since the loop started, and the number of times the loop has run. This gets handled by my notification handler.
                        </p>
                        <!-- Embedded Image -->
                        <div class="text-center mb-4">
                            <img src="assets/Lab1/Task 5.1.png" alt="Echo Example Image" class="img-fluid rounded-3" style="max-width: 100%; height: auto;">
                        </div>
                        <!-- Embedded Image -->
                        <p class="card-text">
                            By the end of 3000 milliseconds, the notification handler was updated 126 times. 126 transactions / 3 seconds results in an effective data transfer rate of 42 payloads per second, or once per 24 milliseconds.
                        </p>
                        <div class="text-center mb-4">
                            <img src="assets/Lab1/Task 5.2.png" alt="Echo Example Image" class="img-fluid rounded-3" style="max-width: 100%; height: auto;">
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- Footer-->
        <footer class="py-5 bg-dark">
            <div class="container"><p class="m-0 text-center text-white">Copyright &copy; Kelvin Resch 2025</p></div>
        </footer>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
    </body>
</html>
